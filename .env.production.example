# ==============================================================================
# Buck Euchre - Production Environment Configuration
# ==============================================================================
# 
# ⚠️  CRITICAL SECURITY WARNINGS:
# 
# 1. NEVER use these example values in production
# 2. NEVER commit actual production credentials to version control
# 3. Generate strong random passwords for ALL services
# 4. Use a secrets management system (AWS Secrets Manager, HashiCorp Vault, etc.)
# 5. Rotate credentials regularly
# 6. Use different credentials for each environment (dev, staging, prod)
# 
# SETUP INSTRUCTIONS:
# 1. Copy this file: cp .env.production.example .env.production
# 2. Generate secure passwords (see commands below)
# 3. Update all values marked with ⚠️
# 4. Verify all settings before deploying
# 5. Store .env.production securely (never commit to git)
# 
# ==============================================================================

# ------------------------------------------------------------------------------
# PostgreSQL Configuration
# ------------------------------------------------------------------------------
# ⚠️ Generate password with: openssl rand -base64 32
POSTGRES_DB=buckeuchre
POSTGRES_USER=buckeuchre
POSTGRES_PASSWORD=CHANGE_THIS_GENERATE_STRONG_PASSWORD

# ------------------------------------------------------------------------------
# Backend Configuration
# ------------------------------------------------------------------------------
# ⚠️ Generate JWT secret with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=CHANGE_THIS_GENERATE_RANDOM_SECRET_AT_LEAST_32_CHARS
JWT_EXPIRES_IN=24h

# ⚠️ Update with actual database host (use 'postgres' for docker-compose internal network)
DATABASE_URL=postgresql://buckeuchre:CHANGE_THIS_GENERATE_STRONG_PASSWORD@postgres:5432/buckeuchre?sslmode=prefer

# ⚠️ Update with your actual domain
CORS_ORIGIN=https://yourdomain.com

# Logging
LOG_LEVEL=info

# WebSocket Configuration
WS_HEARTBEAT_INTERVAL=30000
WS_GRACE_PERIOD=30000

# ------------------------------------------------------------------------------
# Nginx Configuration
# ------------------------------------------------------------------------------
HTTP_PORT=80
HTTPS_PORT=443

# ==============================================================================
# Security Checklist - Complete ALL items before deploying:
# ==============================================================================
# 
# [ ] Generated new POSTGRES_PASSWORD (min 32 chars)
# [ ] Generated new JWT_SECRET (min 32 chars)
# [ ] Updated DATABASE_URL with new password
# [ ] Set CORS_ORIGIN to actual production domain
# [ ] Verified NODE_ENV is NOT set to "development"
# [ ] Database SSL mode enabled (sslmode=require for production)
# [ ] All services use non-root users (configured in Dockerfiles)
# [ ] Firewall configured (only ports 80/443 exposed)
# [ ] SSL/TLS certificates configured for HTTPS
# [ ] Backup strategy implemented
# [ ] Monitoring and alerting configured
# [ ] Log rotation configured
# [ ] Rate limiting enabled (configured in nginx)
# [ ] Health checks configured
# [ ] Database connection pooling configured
# [ ] Secrets stored in secure vault (not in this file)
# 
# ==============================================================================
# Password Generation Commands:
# ==============================================================================
# 
# Database password (32 characters):
#   openssl rand -base64 32
# 
# JWT secret (64 hex characters):
#   node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# 
# Or use a password manager to generate secure random strings
# 
# ==============================================================================
