# ==============================================================================
# Buck Euchre Backend - Environment Configuration
# ==============================================================================
# 
# SETUP INSTRUCTIONS:
# 1. Copy this file to .env:
#    cp backend/.env.example backend/.env
# 
# 2. For local development: Update DATABASE_URL password to match .env.dev
# 3. For production: Follow security checklist at bottom of this file
# 
# ==============================================================================

# ------------------------------------------------------------------------------
# Database Configuration
# ------------------------------------------------------------------------------
# For local development with docker-compose.dev.yml:
DATABASE_URL="postgresql://buckeuchre:dev_password_change_in_prod@localhost:5432/buckeuchre"

# For production, update with your database credentials:
# DATABASE_URL="postgresql://user:password@host:port/database?sslmode=require"

# ------------------------------------------------------------------------------
# JWT Configuration
# ------------------------------------------------------------------------------
# ⚠️ CRITICAL: Generate a secure random secret for production!
JWT_SECRET="dev_secret_CHANGE_THIS_IN_PRODUCTION_use_node_crypto"
JWT_EXPIRES_IN="24h"

# Generate production secret with:
# node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

# ------------------------------------------------------------------------------
# Server Configuration
# ------------------------------------------------------------------------------
NODE_ENV="development"
PORT="3000"

# ------------------------------------------------------------------------------
# CORS Configuration
# ------------------------------------------------------------------------------
# For local development (Vite dev server):
CORS_ORIGIN="http://localhost:5173"

# For production with your domain:
# CORS_ORIGIN="https://yourdomain.com"

# For multiple origins (comma-separated):
# CORS_ORIGIN="https://yourdomain.com,https://www.yourdomain.com"

# ------------------------------------------------------------------------------
# Logging
# ------------------------------------------------------------------------------
LOG_LEVEL="info"
# Options: error | warn | info | debug

# ------------------------------------------------------------------------------
# WebSocket Configuration
# ------------------------------------------------------------------------------
# Heartbeat interval (milliseconds)
WS_HEARTBEAT_INTERVAL="30000"
# Reconnection grace period (milliseconds)
WS_GRACE_PERIOD="30000"

# ==============================================================================
# Production Security Checklist
# ==============================================================================
# 
# BEFORE DEPLOYING TO PRODUCTION, VERIFY:
# 
# [ ] Generated new JWT_SECRET using crypto.randomBytes()
# [ ] Updated DATABASE_URL with production database credentials
# [ ] Set NODE_ENV="production"
# [ ] Set CORS_ORIGIN to actual domain(s)
# [ ] Database URL uses sslmode=require
# [ ] JWT_SECRET is at least 32 characters
# [ ] Database user has minimum required privileges
# [ ] LOG_LEVEL set appropriately (info or warn for production)
# [ ] .env file is NOT committed to version control
# [ ] Secrets are stored in secure secrets manager (AWS Secrets Manager, etc.)
# [ ] Environment variables are set in deployment platform
# [ ] Database backups are configured
# [ ] Monitoring and alerting are set up
# 
# ==============================================================================
